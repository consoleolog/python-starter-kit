# Code Review 가이드

> 아래 체크리스트를 직접 먼저 확인.
> 리뷰어는 이 가이드를 기준으로 피드백을 작성합니다.

## 체크 리스트

### 1. 커밋 단위

커밋은 **하나의 논리적 변경**만 포함해야 합니다.

| 확인 항목                               | 기준                            |
|-------------------------------------|-------------------------------|
| 하나의 커밋이 여러 기능/버그를 동시에 수정하지 않는가      | 기능 추가 + 버그 수정은 별도 커밋으로 분리     |
| 하나의 커밋을 둘 이상으로 나눌 수 있는가 (테스트 코드 제외) | 나눌 수 있다면 분리 필요                |
| 커밋의 변경사항의 양이 많은가 (테스트 코드 제외)        | 분리가 가능한지 확인해보고 나눌 수 있다면 분리 필요 |
| 관련 없는 파일 변경이 함께 포함되지 않는가            | 리팩토링과 기능 변경은 별도 커밋            |
| 추사된 기능에 테스트 코드가 누락되었는가              | 테스트 코드 추가 필요                  |

### 2. 테스트 코드

새로운 코드에는 반드시 테스트가 수반되어야 합니다.

| 확인 항목                                | 기준                           |
|--------------------------------------|------------------------------|
| 새 기능에 대한 테스트가 작성되었는가                 | 신규 함수 / 클래스 / 엔드포인트마다 테스트 필요 |
| 버그 수정 시 해당 케이스를 재현하는 테스트가 있는가        | 회귀 테스트로 동일 버그 재발 방지          |
| 정상 케이스(happy path)와 예외 케이스가 모두 커버되는가 | 경계값, 잘못된 입력, 예외 상황 포함        |
| 기존 테스트가 모두 통과하는가                     | 사이드 이펙트 없는지 확인               |

**제외 대상** (테스트 없이 허용되는 경우)

- `docs/`, `chore:` 타입 커밋 (문서, 설정 변경)
- 단순 상수 정의, 데이터 클래스 (로직 없음)

### 3. 커밋 메시지

| 확인 항목                     | 기준                                                              |
|---------------------------|-------------------------------------------------------------------|
| 변경된 내용이 모두 메시지에 반영되었는가    | 코드 변경과 커밋 메시지 간 누락 없이 일치                                        |
| 올바른 타입을 사용하였는가            | `feat`, `fix`, `refactor`, `test`, `docs`, `chore` 등              |
| 헤더가 50자 이내로 명확하게 작성되었는가   | 모호한 표현 (`수정`, `업데이트`) 지양                                        |
| Body에 **왜** 변경했는지 설명이 있는가 | 복잡한 변경은 이유 설명 필수                                                |
| Footer 에 issue 번호가 있는가    | `close`·`fix`·`resolve` #<이슈번호> 중 작업 성격에 맞는 키워드 사용              |

**커밋 메시지와 변경 내용 불일치 예시**

```
# 커밋 메시지: feat: 로그인 기능 추가
# 실제 변경: 로그인 + 로그아웃 + 세션 관리 로직 포함
→ 메시지가 실제 변경 범위를 담지 못함. 커밋 분리 또는 메시지 보완 필요.
```

---

## 리뷰 판정 기준

| 판정                  | 의미    | 적용 상황                           |
|---------------------|-------|---------------------------------|
| **Approve**         | 승인    | 모든 체크리스트 통과, 사소한 의견은 코멘트로만 남김   |
| **Request Changes** | 수정 요청 | 필수 체크리스트 항목 미통과, 버그 또는 보안 이슈 발견 |
| **Comment**         | 의견 제시 | 승인/반려 없이 질문 또는 제안만 남길 때         |

---

## 피드백 작성 원칙

**우선순위 명시**

모든 피드백에 아래 중 하나를 앞에 붙여 수신자가 중요도를 판단할 수 있게 합니다.

| 태그           | 의미           | 처리                     |
|--------------|--------------|------------------------|
| `[Must]`     | 반드시 수정 필요    | 미수정 시 Approve 불가       |
| `[Should]`   | 수정 권장        | 수정하거나 이유를 남기고 넘어갈 수 있음 |
| `[Nit]`      | 사소한 제안       | 수신자 재량으로 반영 여부 결정      |
| `[Question]` | 의도 파악을 위한 질문 | 수정 요청 아님, 답변으로 충분      |

**피드백 예시**

```
[Must] 커밋 단위
로그인 기능 추가와 기존 버그 수정이 하나의 커밋에 포함되어 있습니다.
두 개의 커밋으로 분리해 주세요.

[Should] 테스트 누락
`UserService.create_user()`에 대한 테스트가 없습니다.
정상 케이스와 이메일 중복 케이스를 커버하는 테스트를 추가해 주세요.

[Nit] 네이밍
`userData` → `user_data` (snake_case 규칙)

[Question] 의도 확인
여기서 `except Exception`으로 모든 예외를 잡은 이유가 있을까요?
특정 예외만 처리하는 게 더 안전하지 않을까 싶어서요.
```

